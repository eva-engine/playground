(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{540:function(n,e,o){"use strict";o.r(e),e.default="import { Game, GameObject, resource, RESOURCE_TYPE } from '@eva/eva.js';\nimport { RendererSystem } from '@eva/plugin-renderer';\nimport {\n  Event,\n  EventSystem,\n  HIT_AREA_TYPE,\n} from '@eva/plugin-renderer-event';\nimport { Img, ImgSystem } from '@eva/plugin-renderer-img';\n\nresource.addResource([\n  {\n    name: 'heart',\n    type: RESOURCE_TYPE.IMAGE,\n    src: {\n      image:{\n        type: 'png',\n        url: '//gw.alicdn.com/bao/uploaded/TB1lVHuaET1gK0jSZFhXXaAtVXa-200-200.png',\n      }\n    },\n    preload: false,\n  },\n]);\n\nconst game = new Game({\n  systems: [\n    new RendererSystem({\n      canvas: document.querySelector('#canvas'),\n      width: 750,\n      height: 1000,\n    }),\n    new EventSystem({\n      // moveWhenInside: true // \u4ee3\u8868\u53ea\u6709\u5728\u5143\u7d20\u5185\u90e8\u624d\u4f1a\u6267\u884cmove\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u4e3afalse\n    }),\n    new ImgSystem(),\n  ],\n});\n\nconst image = new GameObject('image', {\n  size: { width: 200, height: 200 },\n  origin: { x: 0.5, y: 0.5 },\n  position: {\n    x: 50,\n    y: 68,\n  },\n  anchor: { x: 0.5, y: 0.5 },\n});\nconst img = image.addComponent(\n  new Img({\n    resource: 'heart',\n  }),\n);\n\nconst evt = image.addComponent(\n  new Event({\n    // \u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u7f6e\u4ea4\u4e92\u4e8b\u4ef6\u53ef\u4ee5\u89e6\u53d1\u7684\u533a\u57df\uff0c\u9aa8\u9abc\u52a8\u753b\u6709\u6240\u53d8\u5dee\uff0c\u53ef\u4ee5\u4e34\u65f6\u5728\u5f53\u524d\u6e38\u620f\u5bf9\u8c61\u4e0b\u6dfb\u52a0\u4e00\u4e2a\u540c\u7c7b\u578b\u540c\u5c5e\u6027\u7684Graphic\u67e5\u770b\u5177\u4f53\u70b9\u51fb\u4f4d\u7f6e\u3002\n    hitArea: {\n      type: HIT_AREA_TYPE.Polygon,\n      style: {\n        paths: [\n          109,\n          48,\n          161,\n          21,\n          194,\n          63,\n          193,\n          104,\n          65,\n          176,\n          8,\n          86,\n          38,\n          40,\n          90,\n          33,\n        ],\n      },\n    },\n  }),\n);\n\nlet touched = false;\nevt.on('touchstart', e => {\n  console.log(e);\n  console.log('touchstart');\n  touched = true;\n});\nevt.on('touchend', e => {\n  console.log('touchend');\n  touched = false;\n});\nevt.on('touchmove', e => {\n  if (touched) {\n    const transform = e.gameObject.transform;\n    console.log('touchmove');\n    console.log(\n      transform.size.width * (1 - transform.origin.x),\n      transform.size.height * (1 - transform.origin.y),\n    );\n    transform.position = e.data.position;\n  }\n});\n\ngame.scene.addChild(image);\n"}}]);