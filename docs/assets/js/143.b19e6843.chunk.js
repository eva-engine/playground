(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{598:function(n,e,t){"use strict";t.r(e),e.default="import { Game, GameObject, resource, RESOURCE_TYPE } from '@eva/eva.js';\nimport { RendererSystem } from '@eva/plugin-renderer';\nimport { Img, ImgSystem } from '@eva/plugin-renderer-img';\nimport { Mask, MaskSystem, MASK_TYPE } from '@eva/plugin-renderer-mask';\n\nimport { Transition, TransitionSystem } from '@eva/plugin-transition';\n\nresource.addResource([\n  {\n    name: 'number',\n    type: RESOURCE_TYPE.IMAGE,\n    src: {\n      image: {\n        type: 'png',\n        url: '//gw.alicdn.com/tfs/TB1mTtrpKT2gK0jSZFvXXXnFXXa-62-770.png',\n      },\n    },\n    preload: false,\n  },\n]);\n\nconst game = new Game({\n  systems: [\n    new RendererSystem({\n      canvas: document.querySelector('#canvas'),\n      width: 750,\n      height: 1000,\n      backgroundColor: 0xff00ff,\n    }),\n    new ImgSystem(),\n    new MaskSystem(),\n    new TransitionSystem(),\n  ],\n});\n\n// \u521b\u5efa\u5916\u90e8\u906e\u7f69\nconst box = new GameObject('box', {\n  size: { width: 60, height: 770 },\n  position: { x: 345, y: 480 },\n});\n\nbox.addComponent(\n  new Mask({\n    type: MASK_TYPE.Rect,\n    style: {\n      x: 0,\n      y: 0,\n      width: 60,\n      height: 70,\n    },\n  }),\n);\n\n// \u521b\u5efa\u56fe\u7247\nconst image = new GameObject('image', {\n  size: { width: 50, height: 770 },\n});\nimage.addComponent(\n  new Img({\n    resource: 'number',\n  }),\n);\n\n// \u521b\u5efa\u52a8\u753b\nconst animation = image.addComponent(new Transition());\n\nanimation.group = {\n  idle: [\n    {\n      name: 'position.y',\n      component: image.transform,\n      values: [\n        {\n          time: 0,\n          value: 0,\n          tween: 'linear',\n        },\n        {\n          time: 1000,\n          value: -700,\n        },\n      ],\n    },\n  ],\n};\n// \u5f00\u59cb\u8f6c\u52a8\nanimation.play('idle', Infinity);\n\n// \u4e94\u79d2\u540e\u62ff\u5230\u7ed3\u675f\u503c \u505c\u6b62\u8f6c\u52a8\n\nsetTimeout(() => {\n  animation.stop('idle');\n\n  const stopNumber = ~~(Math.random() * 10);\n\n  // \u65b0\u589e\u52a8\u753b\u7ec4\u4e0d\u8981\u548c\u4e4b\u524d\u7684\u52a8\u753b\u7ec4\u91cd\u540d\uff0c\u8986\u76d6\u65e0\u6548\n  animation.group.stop = [\n    {\n      name: 'position.y',\n      component: image.transform,\n      values: [\n        {\n          time: 0,\n          value: 0,\n          tween: 'ease-out',\n        },\n        {\n          time: 1000,\n          value: -stopNumber * 70,\n        },\n      ],\n    },\n  ];\n\n  animation.play('stop');\n}, 5000);\n\nbox.addChild(image);\ngame.scene.addChild(box);\n"}}]);